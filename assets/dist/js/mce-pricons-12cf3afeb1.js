!function(){tinymce.PluginManager.add("pricons",function(n,o){n.addButton("pricons",{text:"",icon:"pricon-smiley-cool",context:"insert",tooltip:"Pricon",cmd:"openInsertPiconModal"}),n.addCommand("openInsertPiconModal",function(){n.windowManager.open({title:"Pricons",url:o+"/mce-picons.php",width:500,height:400,buttons:[{text:"Insert",onclick:function(o){var i=jQuery(".mce-container-body.mce-window-body.mce-abs-layout iframe").contents(),e=i.find('[name="pricon-size"]').val(),t=i.find('[name="pricon-color"]').val(),c=i.find('[name="pricon-icon"]').val();if(!c.length)return n.windowManager.close(),!1;var r='[pricon icon="'+c+'"';return t.length&&(r=r+' color="'+t+'"'),e.length&&(r=r+' size="'+e+'"'),r+="]",n.insertContent(r),n.windowManager.close(),!0}}]})})})}();